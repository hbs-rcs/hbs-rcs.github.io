language: cpp
sudo: true

branches:
  except:
    - master

before_install:
  - wget -O /tmp/hugo.deb https://github.com/gohugoio/hugo/releases/download/v0.55.5/hugo_0.55.5_Linux-64bit.deb
  - sudo dpkg -i /tmp/hugo.deb

script:
  - hugo

# Deploy the documentation to GitHub Pages
env:
  - secure: "RGiL9XIJKRWA73wSon1xY4qrzC9AT5Ind50Yotdc4MV9QS9OYst9MsVbQyDhu1R2grW7ZqIJ+S4+alg/XqhiErOC9u5gXfRc9zfkII6iINnWjSr3BA3TBUafZtV0dNSAIgX4tcKSoT9gfcpxPVMsL7lpqu+9EEkesrGmaxkU4sE="

deploy:
  provider: pages
  skip_cleanup: true
  github_token: $GITHUB_TOKEN
  on:
    branch: source
  local_dir: public
  target_branch: master
